{"id":"gsc-3qz","title":"Ensure skill fully utilizes git-smart-commit features including lint evaluation","description":"Audit the git-smart-commit skill to ensure it leverages all available features of the underlying git-smart-commit tool. Specifically, verify that lint suggestions are adequately evaluated and acted upon, not just passed through or ignored. Identify any gaps between what the tool supports and what the skill actually uses.","status":"open","priority":3,"issue_type":"task","owner":"el-github@elangley.org","created_at":"2026-02-23T04:32:15Z","created_by":"Edward Langley","updated_at":"2026-02-23T04:32:15Z"}
{"id":"gsc-4wg","title":"Add configuration setup wizard with sensible defaults","description":"Implement an interactive setup wizard that guides users through initial configuration of git-smart-commit. Should prompt for key settings, offer sensible defaults, and write the resulting config to the appropriate location.","status":"open","priority":3,"issue_type":"feature","owner":"el-github@elangley.org","created_at":"2026-02-23T04:30:13Z","created_by":"Edward Langley","updated_at":"2026-02-23T04:30:13Z"}
{"id":"gsc-5p8","title":"Implement multi-turn agentic tool loop for classify_changes","description":"## Problem\nclassify_changes() currently uses call_ollama_with_tool() which forces exactly ONE tool call then exits. The LLM has no ability to investigate before committing to a grouping.\n\n## Solution\nRefactor classify_changes() into a multi-turn conversation loop:\n1. Send system prompt + changed file list + metadata (not full diffs) to LLM\n2. LLM may call investigation tools (read_file, get_diff, get_git_log, search_diff) any number of times\n3. Each tool result is appended to the conversation as a tool response message\n4. Loop continues until LLM calls propose_commits (terminal/output tool)\n5. Add a max_turns safeguard (e.g. 20) to prevent infinite loops\n\nThis requires reworking _build_payload() and call_ollama_with_tool() to support multi-message conversation history and multiple available tools simultaneously.\n\nThe OpenAI tool_choice field should be set to 'auto' (not forced to a specific tool) during the investigation phase, and only switch to forced propose_commits if max_turns is reached.","status":"in_progress","priority":1,"issue_type":"feature","owner":"el-github@elangley.org","created_at":"2026-02-23T07:47:43Z","created_by":"Edward Langley","updated_at":"2026-02-23T07:56:56Z","work_type":"mutex"}
{"id":"gsc-bi8","title":"Add read_file tool for LLM to fetch full file contents","description":"## Purpose\nAllow the LLM to read the full current content of any changed file, not just its diff.\n\n## Why Needed\nDiffs show what changed but not the surrounding context. For example:\n- Which class/module does a changed function belong to?\n- What imports already exist?\n- What does the rest of the file look like?\n\n## Implementation\n- Add a read_file(path: str) -\u003e str tool in the @tool registry\n- Path must be validated against the repo root (no path traversal)\n- Should only allow reading files that are in the changed files list OR exist in the repo\n- Truncate at a reasonable limit (e.g. 50KB) with a note if truncated\n- Depends on: multi-turn agentic loop (gsc-*) being implemented first","status":"in_progress","priority":2,"issue_type":"feature","owner":"el-github@elangley.org","created_at":"2026-02-23T07:48:18Z","created_by":"Edward Langley","updated_at":"2026-02-23T07:58:23Z","work_type":"mutex"}
{"id":"gsc-c3q","title":"git-smart-commit","description":"git-smart-commit needs to be able to playback a plan from a previous sessio\n\n\nCurrently, `git smart-commit --json` return a JSON plan for commits\nbut there is no way to apply that plan exactly, making the \"plan then\nexecute\" workflow unpredictable. Implement an \"execute plan\" workflow\nin `git-smart-commit` that recreates a plan from a JSON description\nand then runs it.  Also, update the skill to be aware of this\nworkflow.\n","status":"closed","priority":2,"issue_type":"task","owner":"el-github@elangley.org","created_at":"2026-02-23T04:09:43Z","created_by":"Edward Langley","updated_at":"2026-02-23T04:24:30Z","closed_at":"2026-02-23T04:24:30Z","close_reason":"Implemented --plan FILE and --save-plan FILE flags; updated skill to use save-plan/plan for deterministic plan-then-execute workflow. Also fixed lstrip bug in _extract_tool_args."}
{"id":"gsc-dfz","title":"Add get_diff tool for lazy per-file diff fetching","description":"## Purpose\nAllow the LLM to request the raw diff for a specific file on demand, rather than having all diffs pre-loaded into the initial prompt.\n\n## Why Needed\nCurrently ALL diffs are pre-fetched and sent in the initial prompt, which:\n- Creates a huge initial prompt (up to DIFF_TOTAL_CHARS = 120k chars)\n- Requires lossy hunk summarization for large files\n- Sends irrelevant diffs the LLM may not need\n\nWith lazy fetching, the initial prompt shrinks to just file list + stats.\nThe LLM requests only the diffs it actually needs to decide groupings.\n\n## Implementation\n- Add get_diff(path: str, staged: bool | None = None) -\u003e str tool\n- staged=None means show both staged and unstaged (combined)\n- staged=True means --cached, staged=False means unstaged only\n- No summarization needed since the LLM is requesting exactly what it wants\n- Should respect DIFF_CHARS_PER_FILE limit with a truncation note\n- Depends on: multi-turn agentic loop","status":"open","priority":2,"issue_type":"feature","owner":"el-github@elangley.org","created_at":"2026-02-23T07:49:35Z","created_by":"Edward Langley","updated_at":"2026-02-23T07:49:35Z","work_type":"mutex"}
{"id":"gsc-evk","title":"Thread diff hunks individually to enable partial file staging via git apply","description":"Refactor the diff processing pipeline to handle individual hunks end-to-end rather than whole files. This enables staging partial file changes using 'git apply' on hunk-level patches, giving finer-grained control over what goes into each commit. The full pipeline—analysis, lint suggestions, commit message generation—should operate on a per-hunk basis.","status":"open","priority":3,"issue_type":"feature","owner":"el-github@elangley.org","created_at":"2026-02-23T07:38:51Z","created_by":"Edward Langley","updated_at":"2026-02-23T07:38:51Z"}
{"id":"gsc-h16","title":"Add get_git_log tool for repo commit style awareness","description":"## Purpose\nAllow the LLM to inspect the repo's recent commit history to learn the project's commit conventions.\n\n## Why Needed\nDifferent repos have different commit styles:\n- Some use scopes consistently (feat(auth):), some never do\n- Some have specific type vocabularies\n- Some are monorepos with directory-based scopes\n- Some add ticket numbers, emojis, etc.\n\nWithout this, the LLM applies generic conventions that may not match the project.\n\n## Implementation\n- Add get_git_log(n: int = 20) -\u003e str tool\n- Returns the last n commit subjects (one-line format: hash + subject)\n- Optionally also show --stat to show which files each commit touched\n- Cap n at 50 to avoid flooding context\n- Depends on: multi-turn agentic loop","status":"open","priority":3,"issue_type":"feature","owner":"el-github@elangley.org","created_at":"2026-02-23T07:49:56Z","created_by":"Edward Langley","updated_at":"2026-02-23T07:49:56Z","work_type":"mutex"}
{"id":"gsc-l0t","title":"Add search_diff tool for pattern-based change investigation","description":"## Purpose\nAllow the LLM to search for a string or regex pattern across ALL changed file diffs, without having to read each diff individually.\n\n## Why Needed\nSome classification decisions depend on finding patterns across the whole changeset:\n- Are there TODO/FIXME comments in the changes?\n- Which files import a particular module?\n- Which files contain test assertions vs production code?\n- Are there debug print statements left in?\n\n## Implementation  \n- Add search_diff(pattern: str, context_lines: int = 2) -\u003e list[dict] tool\n- Runs the pattern against all staged+unstaged diffs\n- Returns list of {file, line_number, match_context} dicts\n- Limit results to first 50 matches to prevent context flooding\n- pattern is a Python regex\n- Depends on: multi-turn agentic loop","status":"open","priority":3,"issue_type":"feature","owner":"el-github@elangley.org","created_at":"2026-02-23T07:50:18Z","created_by":"Edward Langley","updated_at":"2026-02-23T07:50:18Z","work_type":"mutex"}
{"id":"gsc-mrk","title":"skill: --yes and --dry-run in $ARGUMENTS corrupt skill step descriptions","description":"When the skill is invoked with --yes or --dry-run, $ARGUMENTS is substituted literally into all command examples in the skill body, producing nonsense like 'git-smart-commit --json --save-plan /tmp/gsc-plan.json --yes' for the read-only plan step, and 'If --dry-run was in --yes, stop here' in the conditional text.\n\nRoot cause: $ARGUMENTS is a flat string substituted everywhere in the skill markdown, so control-flow flags meant only for the execute step bleed into the plan/critique steps and the prose conditionals.\n\nFix options:\n1. Split passthrough flags (--model, --repo, --api-base, --api-key, --critique) from control-flow flags (--yes, --dry-run) in the skill. Extract --yes/--dry-run from $ARGUMENTS and handle them explicitly in the workflow steps rather than passing them through blindly.\n2. Remove --yes from argument-hint and have the skill always ask for confirmation explicitly, ignoring any --yes in $ARGUMENTS.","status":"closed","priority":3,"issue_type":"bug","owner":"el-github@elangley.org","created_at":"2026-02-23T04:31:36Z","created_by":"Edward Langley","updated_at":"2026-02-23T07:41:32Z","closed_at":"2026-02-23T07:41:32Z","close_reason":"Removed --yes from argument-hint; added explicit passthrough/control-flow flag split at top of skill; --yes and --dry-run now handled in prose, not injected into --json commands."}
{"id":"gsc-n93","title":"Handle suggested gitignore arguments","description":"When generating commit messages or analyzing changes, detect files or patterns that should likely be gitignored and suggest appropriate .gitignore entries to the user.","status":"closed","priority":3,"issue_type":"feature","owner":"el-github@elangley.org","created_at":"2026-02-23T04:31:04Z","created_by":"Edward Langley","updated_at":"2026-02-23T07:56:30Z","closed_at":"2026-02-23T07:43:44Z"}
{"id":"gsc-qov","title":"Refactor git-smart-commit to use OO patterns for global state","description":"The git-smart-commit script currently uses global state (module-level variables) scattered throughout the codebase. Refactor to encapsulate this state in a class or structured object, improving testability, maintainability, and reducing implicit coupling between functions.","status":"closed","priority":3,"issue_type":"task","owner":"el-github@elangley.org","created_at":"2026-02-23T04:27:58Z","created_by":"Edward Langley","updated_at":"2026-02-23T07:56:30Z","closed_at":"2026-02-23T07:51:49Z"}
{"id":"gsc-z33","title":"git-smart-commit should get its configuration from `git config` in addition to command line arguments. (especially for the Ollama URL and related parameters)","description":"Currently, `git-smart-commit` assumes that you want to use a\nparticular Qwen model served by Ollama at a particular URL. This is a\nbad assumption and, as a git sub-command, git-smart-commit should be\nable to be configured through standard git configuration\noptions. Research whether we can use `git config` to access our own\nsection of ~/.config/git/config and, if this is possible, implement\nthis as a fallback for the various configuration parametes.\n","status":"closed","priority":2,"issue_type":"task","owner":"el-github@elangley.org","created_at":"2026-02-23T04:18:28Z","created_by":"Edward Langley","updated_at":"2026-02-23T04:30:09Z","closed_at":"2026-02-23T04:30:09Z","close_reason":"Implemented read_git_config(); priority chain is CLI arg \u003e env var \u003e git config \u003e default. Keys: smart-commit.model, smart-commit.api-base, smart-commit.api-key."}
